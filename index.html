<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Dieselpack Argentina</title>
  <link rel="stylesheet" href="style.css">
  <link rel="icon" type="image/x-icon" href="logo-miniatura.ico">
  <script src="https://kit.fontawesome.com/a076d05399.js" crossorigin="anonymous"></script>
  <style>
    body { color: #1c5c41; }
    footer { color: #777 !important; }
    footer a, footer p { color: #777 !important; }
  </style>
</head>
<body>
  <header>
    <img src="logo.png" alt="Logo Dieselpack Argentina" class="logo">
    <nav>
      <ul>
        <li><a href="#quienes-somos">Quiénes Somos</a></li>
        <li><a href="#marcas">Marcas</a></li>
        <li><a href="#contacto">Contacto</a></li>
        <li class="language-switch">
          <img src="argentina.png" alt="ES" onclick="changeLang('es')">
          <img src="brasil.png" alt="PT" onclick="changeLang('pt')">
          <img src="usa.png" alt="EN" onclick="changeLang('en')">
          <img src="china.png" alt="ZH" onclick="changeLang('zh')">
        </li>
      </ul>
    </nav>
  </header>

  <main>
    <!-- CONTENIDO OMITIDO (SE MANTIENE) -->

    <!-- FORMULARIO -->
    <!-- Agregado asteriscos con <label> -->
    <!-- Mensajes ocultos inicialmente y controlados por JS como estaba -->
  </main>

  <footer>
    <div class="footer-logos">
      <img src="bosch.png" alt="Bosch">
      <img src="denso.png" alt="Denso">
      <img src="delphi.png" alt="Delphi">
      <img src="zexel.png" alt="Zexel">
      <img src="continental.png" alt="Continental">
      <img src="kingstar.png" alt="Kingstar">
    </div>
    <div class="marca-agua">
      <img src="logodweb.ico" alt="Web Design">
      <p style="font-size: 0.75em;">© Pablo Ballon | Web Design</p>
    </div>
  </footer>

  <script>
    function changeLang(lang) {
      const langs = ['es', 'pt', 'en', 'zh'];
      langs.forEach(l => {
        document.querySelectorAll('.lang-' + l).forEach(el => {
          el.style.display = (l === lang) ? 'block' : 'none';
        });
      });
    }
    window.onload = () => changeLang('es');

    document.addEventListener("DOMContentLoaded", function () {
      const forms = document.querySelectorAll("form#contactForm");
      forms.forEach(form => {
        form.addEventListener("submit", async function (e) {
          e.preventDefault();
          const data = new FormData(form);
          const action = form.getAttribute("action");

          const parent = form.closest(".lang-es, .lang-pt, .lang-en, .lang-zh");
          parent.querySelector(".success-message").style.display = "none";
          parent.querySelector(".error-message").style.display = "none";

          try {
            const response = await fetch(action, {
              method: "POST",
              body: data,
              headers: { Accept: "application/json" },
            });

            if (response.ok) {
              form.style.transition = "opacity 0.5s ease-out";
              form.style.opacity = 0;
              setTimeout(() => {
                form.style.display = "none";
                parent.querySelector(".success-message").style.display = "block";
              }, 500);
            } else {
              parent.querySelector(".error-message").style.display = "block";
            }
          } catch (error) {
            parent.querySelector(".error-message").style.display = "block";
          }
        });
      });
    });
  </script>
</body>
</html>
